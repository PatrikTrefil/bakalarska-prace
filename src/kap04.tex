\chapter{Uživatelská dokumentace}\label{ch:uzivatelska-dokumentace}

V této kapitole popíšeme užívání aplikace.
První se podíváme na celý proces z pohledu zaměstnance a následně z pohledu plnitele.


\section{Přihlášení}\label{sec:prihlaseni}

Oba procesy začínají na přihlašovací obrazovce (Obr.\ \ref{fig:login-screenshot}), na kterou je uživatel přesměrován při vstupu do aplikace.
Před samotným přihlášením je nutno schválit používání cookies (Detaily jsou popsány v sekci~\ref{sec:gdpr}).
Pro přihlášení uživatel zadá své přihlašovací údaje a stiskne tlačítko \uv{Přihlásit}.
Pokud zaměstnanec nemá účet, musí si požádat o vytvoření účtu u jiného zaměstnance s již existujícím účtem a dostatečným oprávněním, či u administrátora aplikace.
Pokud plnitel nemá účet, musí si požádat o vytvoření účtu u zaměstnance s již existujícím účtem a dostatečným oprávněním, či u administrátora aplikace.
Tvorba účtu zaměstnancem je popsána v odsekli~\ref{subsec:sprava-uctu}.

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/login}
    \caption{Přihlašovací obrazovka}\label{fig:login-screenshot}
\end{figure}


\section{Užívání aplikace z pohledu zaměstnance}\label{sec:uzivani-aplikace-z-pohledu-zamestnance}

\subsection{Správa formulářů}\label{subsec:sprava-formularu}

Pro zadání úkolu plniteli je nutno nejprve vytvořit formulář.
Formuláře se vytváří v sekci \uv{Správa formulářů} (Obr.\ \ref{fig:sprava-formularu-screenshot}).
Právo na tvorbu formulářů mají pouze zaměstnanci s rolí \uv{Správce dotazníků}.
Formuláře se vytváří pomocí tlačítka \uv{Nový formulář}.
Stisknutí tohoto tlačítka se dostaneme na stránku pro tvorbu formuláře (Obr.\ \ref{fig:tvorba-formulare-screenshot}).
Pro vytvoření je potřeba zadat název formuláře a přidat jednotlivé otázky taháním prvků z levého panelu do prostoru pro tvorbu formuláře.
Pro výpočet odvozené hodnoty (např.\ výsledné skóre) formuláře lze použít prvek \uv{Skryté} z kategorie \uv{Data} z levého panelu.
Pokud je nevhodné, aby uživatel mohl získat vypočtenou hodnotu, tak je nutné v nastavení prvku zvolit možnost \uv{Vypočítat hodnotu na serveru} (Obr. \ref{fig:odvozena-hodnota}).
Detailní dokumentace k tvorbě formulářů je dostupná online v anglickém jazyce na \href{https://help.form.io/userguide/form-building}{tomto odkazu}.
Formulář uložíme do systému pomocí tlačítka \uv{Vytvořit formulář}.
Již existující formuláře můžeme upravovat pomocí tlačítka \uv{Upravit} nebo mazat pomocí tlačítka \uv{Smazat}.
Úpravy formulářů mohou ovlivnit již existující odevzdání formulářů a proto se doporučuje tuto funkci používat pouze pro drobné opravy.

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/sprava-formularu}
    \caption{Správa formulářů aplikace}\label{fig:sprava-formularu-screenshot}
\end{figure}

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/odvozena-hodnota}
    \caption{Konfigurace výpočtu odvozených hodnot}\label{fig:odvozena-hodnota}
\end{figure}

% TODO: replace screenshot with translations
\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/tvorba-formulare}
    \caption{Správa formulářů aplikace}\label{fig:tvorba-formulare-screenshot}
\end{figure}

\subsection{Správa plnitelů}\label{subsec:sprava-plnitelu}

Pro zadání úkolu plniteli je nutno nejprve vytvořit uživatelský účet pro plnitele.
Účty plnitelů se vytváří v sekci \uv{Správa plnitelů} (Obr.\ \ref{fig:sprava-plnitelu-screenshot}).
Nový účet vytvoříme pomocí tlačítka \uv{Založit účet nového klienta/pacienta}.
Pro vytvoření účtu je potřeba zadat identifikátor plnitele, který je unikátní v rámci celé aplikace, a heslo.
Plnitel si může heslo změnit po přihlášení do aplikace.

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/sprava-plnitelu}
    \caption{Správa účtů plnitelů}\label{fig:sprava-plnitelu-screenshot}
\end{figure}

\subsection{Správa úkolů}\label{subsec:sprava-ukolu}

Nyní můžeme vytvořit úkol pro plnitele.
Úkoly se vytváří v sekci \uv{Správa úkolů} (Obr.\ \ref{fig:sprava-ukolu-screenshot}).
Nový úkol vytvoříme pomocí tlačítka \uv{Nový úkol}.
Stisknutím tohoto tlačítka se dostaneme na stránku pro tvorbu úkolu (Obr.\ \ref{fig:tvorba-ukolu-screenshot}).
Pro vytvoření je potřeba zadat název úkolu, vybrat formulář, který má plnitel vyplnit, a vybrat plnitele.
Při tvorbě je možno zvolit více plnitelů a tím zadat více úkolů najednou.
K úkolu můžeme volitelně přidat popis, start, deadline a opakování.
Start a deadline jsou pojmy definovány v kapitole o analýze požadavků~\ref{ch:analyza-pozadavku}, ale pro připomenutí definice uvedeme znovu.
Start úkolu je datum a čas, od kdy je možné úkol splnit.
Deadline úkolu je datum a čas, do kdy je možné úkol splnit.
Můžeme povolit překročení deadline, ale standardně je po deadline úkol uzavřen a nelze jej splnit.
Obrazovka pro konfiguraci deadline je zobrazena na obrázku~\ref{fig:tvorba-ukolu-deadline-screenshot}.
Při nastavení opakování je vytvořeno více úkolu najednou pro jednoho uživatele.
Pokud chceme vytvořit opakující se úkol, tak je nutné také definovat deadline, který je vždy posunut o interval specifikovaný v nastavení opakování.
Obrazovka pro konfiguraci opakování je zobrazena na obrázku~\ref{fig:tvorba-ukolu-opakovani-screenshot}.

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/sprava-ukolu}
    \caption{Správa úkolů}\label{fig:sprava-ukolu-screenshot}
\end{figure}

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/tvorba-ukolu}
    \caption{Tvorba úkolu}\label{fig:tvorba-ukolu-screenshot}
\end{figure}

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/tvorba-ukolu-deadline}
    \caption{Zadávání deadline při tvorbě úkolu}\label{fig:tvorba-ukolu-deadline-screenshot}
\end{figure}

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/tvorba-ukolu-opakovani}
    \caption{Konfigurace opakování při tvorbě úkolu}\label{fig:tvorba-ukolu-opakovani-screenshot}
\end{figure}

\subsection{Náhled na odevzdání formuláře}\label{subsec:nahled-odevzdani-formulare}

Nyní předpokládejme, že plnitel splnil námi zadaný úkol.
Zaměstnanec si může zobrazit odevzdání formuláře pomocí tlačítka \uv{Zobrazit odevzdání} v sekci \uv{Správa úkolů} (Obr.\ \ref{fig:sprava-ukolu-screenshot}).
Náhled na odevzdání obsahuje metadata vyplnění formuláře a vyplněný formulář (Obr.\ \ref{fig:nahled-odevzdani-zamestnanec-screenshot}).

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/nahled-odevzdani-zamestnanec}
    \caption{Náhled na jednotlivé odevzdání formuláře}\label{fig:nahled-odevzdani-zamestnanec-screenshot}
\end{figure}

Můžeme také zobrazit všechna odevzdání formuláře formou tabulky pomocí tlačítka \uv{Zobrazit všechna odevzdání} v sekci \uv{Správa formulářů} (Obr.\ \ref{fig:sprava-formularu-screenshot}).
Tato stránka obsahuje seznam všech odevzdání formuláře (Obr.\ \ref{fig:nahled-vsechna-odevzdani-zamestnanec-screenshot}), které lze řadit, filtrovat a následně i exportovat do souboru.
Stránka také umožňuje vytvořit základní vizualizace sesbíraných dat, které lze zobrazit stisknutím tlačítka \uv{Vizualizovat frekvence hodnot} (Obr.\ \ref{fig:nahled-vsechna-odevzdani-vizualizace-zamestnanec-screenshot}).
Pokročilejší analýzy a vizualizace dat je možno provádět specializovaným softwarem, který je schopen zpracovat exportovaná data.

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/vysledky-formulare}
    \caption{Náhled na všechna odevzdání formuláře}\label{fig:nahled-vsechna-odevzdani-zamestnanec-screenshot}
\end{figure}

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/vysledky-formulare-vizualizace}
    \caption{Vizualizace odevzdání formuláře}\label{fig:nahled-vsechna-odevzdani-vizualizace-zamestnanec-screenshot}
\end{figure}

\subsection{Správa účtů}\label{subsec:sprava-uctu}

Zaměstnanec může tvořit účty pro další zaměstnance.
Pokud má zaměstnanec roli \uv{Správce dotazníků}, tak může tvořit účty pro další zaměstnance s rolí \uv{Správce dotazníků} nebo \uv{Zadavatel dotazníků}.
Pokud má zaměstnanec roli \uv{Zadavatel dotazníků}, tak může tvořit účty pro další zaměstnance s rolí \uv{Zadavatel dotazníků}.
Pohled zaměstnance s rolí \uv{Správce dotazníků} je zobrazen na obrázku~\ref{fig:sprava-zamestnancu-screenshot}.

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/sprava-zamestnancu}
    \caption{Správa zaměstnaneckých účtů}\label{fig:sprava-zamestnancu-screenshot}
\end{figure}

Zaměstnanec si může zobrazit detail svého účtu (Obr. \ref{fig:zmena-hesla-zamestnanec}) kliknutím na své ID v pravém horním rohu aplikace.
V detailu účtu může zaměstnanec změnit své heslo.

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/zmena-hesla-zamestnanec}
    \caption{Změna hesla vlastního účtu}\label{fig:zmena-hesla-zamestnanec}
\end{figure}


\section{Užívání aplikace z pohledu plnitele}\label{sec:uzivani-aplikace-z-pohledu-plnitele}

Nyní popišme proces z pohledu plnitele.
Předpokládáme, že plnitel má již vytvořený účet a přihlásil se do aplikace, jak je popsáno v úvodu této kapitoly~\ref{ch:uzivatelska-dokumentace}.
Po přihlášení se plnitel dostane na přehled úkolů (Obr.\ \ref{fig:prehled-ukolu-uzivatel-screenshot}).
Tato stránka zobrazuje všechny úkoly, které byly plniteli zadány.
Plnitel může úkol splnit stisknutím tlačítka \uv{Splnit}, čímž se dostane na stránku obsahující formulář k vyplnění (Obr.\ \ref{fig:vyplneni-formulare-uzivatel-screenshot}).
Plnitel může v průběhu vyplňování formuláře stisknout tlačítko \uv{Uložit koncept}, čímž se formulář uloží do systému, ale neodešle se.
Při návratu na tuto stránku je uložený stav automaticky znovu načten.

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/prehled-uzivatel}
    \caption{Přehled úkolů uživatele}\label{fig:prehled-ukolu-uzivatel-screenshot}
\end{figure}

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/vyplneni-formulare-uzivatel}
    \caption{Vyplnění formuláře plnitelem}\label{fig:vyplneni-formulare-uzivatel-screenshot}
\end{figure}

Uživatel si může zobrazit detail svého účtu (Obr. \ref{fig:zmena-hesla-uzivatel}) kliknutím na své ID v pravém horním rohu aplikace.
V detailu účtu může zaměstnanec změnit své heslo.

\begin{figure}[H]
    \includegraphics[width=\textwidth]{../img/screenshots/zmena-hesla-uzivatel}
    \caption{Změna hesla vlastního účtu}\label{fig:zmena-hesla-uzivatel}
\end{figure}
